<!DOCTYPE html>

<html lang="es">
        
    <head>
        <meta charset="UTF-8">
        <title>Challenge Encriptador de Texto</title>
        <link rel="shortcut icon" href="imagenes/para_favicon.png" type="image/x-icon">
        <link rel="stylesheet" href="reset.css">
        <link rel="stylesheet" href="style_2.css">
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300&display=swap" rel="stylesheet">
        <!-- Importando sweet alert (caja de texto de alerta más bonita) -->
        <script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>
    </head>

    <body>
        <header>
            <div class="caja_logo">
                <h1>
                    <img class="logo" src="imagenes/logo.png">
                    <p class="titulo">Challenge Encriptador de Texto</p>
                </h1>
            </div>          
        </header>

        <main>
            <form>
                <ul>
                    <li class="bloque_1">
                        <textarea 
                        class="input-text"
                        id="input-text"
                        cols="70"
                        rows="10"
                        placeholder="Ingrese el texto aquí:"></textarea>
                        <div class="terminos">
                            <p>&#10071 Solo letras minúsculas y sin acentos.</p>
                        </div>
                        <div class="botones">
                            <input 
                            class="encriptar" 
                            type="button" 
                            value="Encriptar"
                            onclick="encriptar()"
                            />
                            <input 
                            class="desencriptar" 
                            type="button" 
                            value="Desencriptar"
                            onclick="desencriptar()"
                            />
                        </div>                        
                    </li>
                    <li class="bloque_2">
                        <textarea 
                        class="out-text"
                        id="out-text"
                        cols="70"
                        rows="10">
                        </textarea>
                        <div id="" class="interior_bloque_2">                         
                            <img src="imagenes/lupa.png" alt="" id="img_bloque_2">
                            <h2 id="mensaje">Ningún mensaje encontrado</h2>
                            <p id="texto-parrafo">Ingresa el texto que deseas encriptar o desencriptar.</p>
                            <input 
                            class="copiar"
                            id="copiar" 
                            type="button" 
                            value="Copiar"
                            />
                        </div>
                    </li>                    
                </ul>
            </form>
        </main>

        <footer class="footer_container">
            <p>Julián López Velásquez - 2023</p>
            <ul class="footer_social_media">
                <il class="social_media_item">
                    <a href="https://github.com/Julopvel"><img class="logo_github" src="imagenes/logo_github.png"></a>
                </il>
                <il class="social_media_item">
                    <a href="https://www.linkedin.com/in/julian-lopez-vel/"><img class="logo_linkedin" src="imagenes/logo_linkedin.png"></a>
                </il>
            </ul>
        </footer>


    </body>
</html>


<script>
 /*   
    La letra "e" es convertida para "enter"
    La letra "i" es convertida para "imes"
    La letra "a" es convertida para "ai"
    La letra "o" es convertida para "ober"
    La letra "u" es convertida para "ufat"
*/

/*Definición de los elementos dentro del bloque 2*/
    var mensaje_bloque2 = document.getElementById("mensaje");
    var parrafo_bloque2 = document.getElementById("texto-parrafo");
    var img = document.getElementById("img_bloque_2");
    var texto_salida_bloque2 = document.getElementById("out-text");
    //var boton_copiar = document.getElementById("copiar");
    var boton_copiar = document.querySelector(".copiar");

 /*Inicialización de los campos de texto como vacíos*/   
    document.getElementById("input-text").value = "";
    document.getElementById("out-text").value = "";
/*Esconder el boton copiar y el campo de texto del bloque 2*/
    boton_copiar.style.display = "none";
    texto_salida_bloque2.style.display = "none";
    
    function encriptar()
    {
        var texto = document.getElementById("input-text").value;
       
        var texto_encriptado = texto
            .replace(/e/gi, "enter")
            .replace(/i/gi, "imes")
            .replace(/a/gi, "ai") 
            .replace(/o/gi, "ober")
            .replace(/u/gi, "ufat");     

        if(texto.length !=0){
            document.getElementById("input-text").value = "";
            /* Sin importar que, el texto final es regresado en minuscula*/
            document.getElementById("out-text").value = texto_encriptado.toString().toLowerCase();

            img.src = "./imagenes/encript.png";
            mensaje_bloque2.textContent = "Mensaje encriptado con éxito";
            parrafo_bloque2.textContent = "";
            boton_copiar.style.display = "block";
            texto_salida_bloque2.style.display = "block";
        }
        else {
            img.src = "./imagenes/lupa.png";
            mensaje_bloque2.textContent = "Ningún mensaje encontrado";
            parrafo_bloque2.textContent = "Ingresa el texto que deseas encriptar o desencriptar.";
            boton_copiar.style.display = "none";
            texto_salida_bloque2.style.display = "none";
            /*caja de alerta sweet alert*/
            swal("Atención", "Debes ingresar algún texto", "warning");
        }
    }

    function desencriptar()
    {
        var texto = document.getElementById("input-text").value;

        var texto_encriptado = texto
            .replace(/enter/gi, "e")
            .replace(/imes/gi, "i")
            .replace(/ai/gi, "a") 
            .replace(/ober/gi, "o")
            .replace(/ufat/gi, "u");

        if(texto.length !=0){
            document.getElementById("input-text").value = "";
    /* Sin importar que, el texto final es regresado en minuscula*/
            document.getElementById("out-text").value = texto_encriptado.toString().toLowerCase();

            img.src = "./imagenes/desencriptado.png";
            mensaje_bloque2.textContent = "Mensaje desencriptado con éxito";
            parrafo_bloque2.textContent = "";
            boton_copiar.style.display = "block";
            texto_salida_bloque2.style.display = "block";
        }
        else{
            img.src = "./imagenes/lupa.png";
            mensaje_bloque2.textContent = "Ningún mensaje encontrado";
            parrafo_bloque2.textContent = "Ingresa el texto que deseas encriptar o desencriptar.";
            boton_copiar.style.display = "none";
            texto_salida_bloque2.style.display = "none";
            /*caja de alerta sweet alert*/
            swal("Atención", "Debes ingresar algún texto", "warning");
        }
    } 
    

    var boton_copiar = document.querySelector(".copiar");
        boton_copiar.addEventListener("click", copiar = () => {
            var texto_2 = document.querySelector(".out-text").value;
            navigator.clipboard.writeText(texto_2);
            swal("Atención", "El mensaje ha sido copiado", "success");
        })
    
</script>